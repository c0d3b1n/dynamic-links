<%= javascript_include_tag 'actions' %>
<%= stylesheet_link_tag 'actions' %>
<h1 class="dynamic-link">
Dynamic Links
</h1>
<table class='links-table'>
  <thead>
    <tr>
      <th>Id</th>
      <th>Link</th>
      <th>About</th>
      <th>Expires At</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @links.each do |link| %>
      <% link_text = link.active? ? 'Disable' : 'Activate' %>
      <% button_class = link.active? ? "actions-disable" : "actions-activate" %>
      <tr>
        <td class="row-data"><%= link.id %></td>
        <td class="row-data">
          <a href=<%= link.generate_link %> target="_blank">
            <%= link.generate_link %>
          </a>
        </td>
        <td class="row-data"><%= link.about %></td>
        <td class="row-data"><%= link.expires_at %></td>
        <td class="row-data">
          <button 
          class=<%= button_class %>
          data-link-key= <%=link.link_key%>
          data-link-status= <%= !link.active%>
          >
            <%= link_text %>
          </button>
      </tr>
    <% end %>
  </tbody>
</table>